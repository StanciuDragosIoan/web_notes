<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Domine:wght@400;700&family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="../../../assets/css/main.css"
      type="text/css"
    />
    <title>React</title>
  </head>
  <body>
    <h1 class="header">React</h1>
    <p class="text">
      React is a JS library for building User Interfaces. React runs in the
      browser (so it is very fast/does not need to wait for a server
      response).It uses components to build a UI.Components are re-usable and
      modular.
    </p>
    <p class="text">
      At a basic level, a React component is simply a function that receives
      some props and returns some JSX. See below how we pass the
      <span class="snippet">age</span> and
      <span class="snipept">name</span> props and how we use them to configure
      the component.
    </p>
    <p class="text center bold">
      Simple Card Component
    </p>
    <pre class="code">
      function Person(props){
        //jsx in the return()
        return(
          &lt;div&gt;
            &lt;h1&gt{props.name}&lt;/h1&gt
            &lt;p&gtYour Age: {props.age}&lt;/p&gt
          &lt;/div&gt
        );
      }
      
//select #p1 and render the Person component in it
ReactDOM.render(&lt;Person name="Max" age="28" /&gt;, 
  document.querySelector('#p1')
);
//select #p2 and render 2nd Person
ReactDOM.render(&lt;Person name="Manu" age="29" /&gt;, 
  document.querySelector('#p2')
);
    </pre>
    <p class="text">
      In order to render the card component above in the DOM, we have to target
      a DOM element and render the component there with React:
    </p>
    <pre class="code">
      //Max rendered here
      &lt;div id="p1"&gt;&lt;div&gt;
      //Manu rendered here
      &lt;div id="p1"&gt;&lt;div&gt;
    </pre>
    <p class="text">
      Further more, we can move the 2 ReactDOM.render calls inside a single one
      which outputs the parent <span class="snippet">app</span> component as
      below:
    </p>
    <pre class="code">
      function Person(props){
        //jsx in the return()
        return(
          &lt;div&gt;
            &lt;h1&gt{props.name}&lt;/h1&gt
            &lt;p&gtYour Age: {props.age}&lt;/p&gt
          &lt;/div&gt
        );
      }

var app = (
  &lt;div&gt;
    &lt;Person name="Max", age="28" &gt;
    &lt;Person name="Manu", age="29" &gt;
  &lt;/div&gt;
);
      
//select #p1 and render the app component + children
ReactDOM.render(app, 
  document.querySelector('#app')
);
    </pre>
    <p class="text bold center">
      Single page apps vs multi-page apps
    </p>
    <p class="text">
      With React we can build a single page app or a multi-page one. In a single
      page app, we get back from the server only one single html file. The first
      time the user visits the page we get that html file and all the other
      content is rendered dynamically with JS.
    </p>
    <p class="text">
      In a multi-page app we get back multiple pages and each of them has some
      content inside (and a route assigned). We can also use React in these apps
      but only for little widgets (not the entire page).
    </p>
    <p class="text">
      The more popular approach is building a single page app, and rendering
      content dynamically, so that we don't have to call the server again, the
      UX is much better.
    </p>
    <p class="text center bold">
      Using a Build Workflow
    </p>
    <p class="text">
      A build workflow enables us to ship optimized and small code (for
      performance reasons). We also want to be able to use ES6 + JS features. We
      need a workflow that supports these features and enables us to be more
      productive.
    </p>
    <p class="text">
      For this build workflow we need a
      <span class="snippet">dependency manager</span> (line npm or yarn).
    </p>
    <p class="text">
      We also need a <span class="snippet">module bundler</span> like Webpack.
    </p>
    <p class="text">
      We also need a compiler like <span class="snippet">Babel</span> (with
      presets). Babel presets are config details sent to the babel-transpiler
      telling it to transpile it in the specified mode (e.g. ES2015, Env,
      React).
    </p>
    <p class="text">We also need a development server.</p>
    <p class="text center bold">create-react-app</p>
    <p class="text">
      <span class="snippet">create-react-app</span> is the standard tool for
      building react applications. We can install it globally with npm by
      running:
    </p>
    <pre class="code">
      npm i -g create-react-app
    </pre>
    <p class="text">
      After installing it on our system we can create react apps with the
      command:
    </p>
    <pre class="code">
      create-react-app app_name
    </pre>
    <p class="text">
      We can also create react apps without installing
      <span class="snippet">create-react-app</span> by using
      <span class="snippet">npx</span> with the below command:
    </p>
    <pre class="code">
      npx create-react-app app_name
    </pre>
    <p class="text">
      Once the app is created, you need to <span class="snippet">cd</span> into
      the project folder and the run <span class="snippet">npm start</span>.
      This will start the development server.
    </p>
    <p class="text center">
      App file structure
    </p>
    <p class="text">
      The default app structure of a react application is the following:
    </p>
    <div class="devPic">
      <img src="./img/folder_structure.png" alt="" />
    </div>
    <p class="text">
      We have the 2 base configuration files
      <span class="snippet">package.json</span> for dependencies management and
      <span class="snippet">package-lock.json</span> for dependencies verions
      management, a <span class="snippet">README</span> and a
      <span class="snippet">.gitignore</span> file.
    </p>
    <p class="text">
      We also have the <span class="snippet">node_modules</span> folder which
      holds all the dependencies of the app.
    </p>
    <p class="text">
      The <span class="snippet">public</span> folder is the root folder that the
      webserver will serve, by default it has an index.html file (this is the
      file that will be served to the client by the web server, and everything
      will be rendered in the div with the id
      <span class="snippet">root</span> ), a manifest.json (containing some
      meta-data about the app) and some icons:
    </p>
    <div class="devPic">
      <img src="./img/public.png" alt="" />
    </div>
    <p class="text">
      The <span class="snippet">src</span> folder holds our source code:
    </p>
    <div class="devPic">
      <img src="./img/src.png" alt="" />
    </div>
    <p class="text">
      The <span class="snippet">index.js</span> file can access the div with the
      id <span class="snippet">root</span> in the index.html file and it renders
      the app component inside of it:
    </p>
    <pre class="code">
      ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById("root"),
);
    </pre>
    <p class="text">
      The app component is imported in index.js and displayed from it.
    </p>
    <p class="text center bold">
      Component Basics
    </p>
    <p class="text">
      In a React application we render a root component and then inside of it we
      nest all the other components.
    </p>
    <p class="text">
      The most basic way to create a React component is to create a class:
    </p>
    <pre class="code">
import React, { Component } from 'react';
import './App.css';

class App extends Component {
  render(){
    return (
      &lt;div className="App"&gt;
        &lt;h1&gt;Sample React App&lt;/h1&gt;
      &lt;/div&gt;
    );
  }
  
}

export default App;

      </pre
    >
    <p class="text">
      The class must have a <span class="snippet">render()</span> method. This
      method will be ran to render the component in the DOM. In a component we
      can do other things too (like manipulate state) but the most basic thing a
      component can do is render something on the screen. Finally, after
      defining the component, we <span class="snippet">export</span> it as a
      default export - so as the whole file not as a module of a file.
    </p>
    <p class="text">
      We then import it in the parent component (in this case we import App the
      parent component in the index.js file):
    </p>
    <pre class="code">
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
 

ReactDOM.render(
    app, document.getElementById('root')
  );
 
      </pre
    >
    <p class="text center bold">
      JSX
    </p>
    <p class="text">
      A component takes in props and returns JSX. JSX is similar to html but
      slightly different and it can have logic inside.The JSX is returned from
      the <span class="snippet">return</span> method of the class, and it
      compiles to <span class="snippet">React.createElement()</span>. JSX is
      just syntactic sugar for JavaScript, allowing you to write HTMLish code
      instead of nested
      <span class="snippet">React.createElement(...)</span> calls.
    </p>
    <p class="text">
      JSX also involves that we sometimes use slightly different attributes
      (like <span class="snippet">className</span> instead of
      <span class="snippet">class</span>
    </p>
    <p class="text">
      Another specificity of JSX is that it requires that everything in a
      component has a single root element:
    </p>
    <pre class="code">
function App() {
  return (
    &lt;div className="App"&gt;
      &lt;h1&gt;Hi, I am a react app&lt;/h1&gt;
    &lt;/div&gt;
  );
}
    </pre>
    <p class="text">
      This means that we cannot have something like:
    </p>
    <pre class="code">
      function App() {
        return (
          &lt;div className="App"&gt;
            &lt;h1&gt;Hi, I am a react app&lt;/h1&gt;
          &lt;/div&gt;
          &lt;h1&gt;Another header&lt;/h1&gt;
        );
      }
          </pre
    >
    <p class="text">
      Instead we must use either a higher order component to nest everything
      inside of it, or a div or simply a React fragment. In the snippet above
      note also the <span class="snippet">( )</span> which allow us to put the
      JSX on multiple lines (useful especially if we have logic in the JSX).
    </p>
    <p class="text center bold">Creating and working with components</p>
    <p class="text">
      Usually a component is either a class or a function that returns some JSX.
      We will start with functions. Components' file name usually comes with a
      capital first letter, and the structure of the components in our
      application can be however we want, for instance:
    </p>
    <p class="text">
      A super basic functional component would look like this:
    </p>
    <pre class="code">
      import React from "react";

      const person = () => {
        return &lt;p&gt;Person component&lt;/p&gt;;
      };

      export default person;
    </pre>
    <p class="text">
      Next we can import and use the
      <span class="snippet">Person</span> component in the
      <span class="snippet">App</span> component:
    </p>
    <pre class="code">
import React from "react";
import logo from "./logo.svg";
import "./App.css";
import Person from "./Person/Person";

function App() {
  return (
    &lt;div className="App"&gt;
      &lt;h1&gt;Hi, I am a react app&lt;/h1&gt;
      &lt;Person /&gt;
    &lt;/div&gt;
  );
}

export default App;

    </pre>
    <p class="text">
      Components are good for encapsulating functionality, they are re-usable
      and configurable, for instance we can copy the
      <span class="snippet">Person</span> component multiple time anywhere in
      our application. They are like custom html elements.
    </p>
    <p class="text">
      Regarding our <span class="snippet">Person</span> component, we can see
      that it is static (it has just some hard coded text), it does not have
      dynamic content. We will modify the component so that it outputs some
      dynamic age:
    </p>
    <pre class="code">
      import React from "react";

    const person = () => {
      return (
          &lt;p&gt;
            I am a person and I am 
            {Math.floor(Math.random() * 30)}!
          &lt;/p&gt;
      
      );
    };

    export default person;

    </pre>
    <p class="text">
      Note how we put the dynamic logic inside <span class="snippet">{}</span>
      and remember that JSX can have logic in it (usually one line expressions).
    </p>
    <p class="text center bold">
      Props
    </p>
    <p class="text">
      Props are html-like attributes that we use to configure our components at
      runtime like so:
    </p>
    <pre class="code">
      import React from "react";
import logo from "./logo.svg";
import "./App.css";
import Person from "./Person/Person";

function App() {
  return (
    &lt;div className="App">
      &lt;h1&gt;Hi, I am a react app&lt;/h1&gt;
      &lt;Person name="Ted" age="28" /&gt;
      &lt;Person name="Rosy" age="27"&gt;
        My hobbies: Racing
      &lt;/Person&gt;
      &lt;Person name="Kathy" age="25" /&gt;
    &lt;/div&gt;
  );
}

export default App;

    </pre>
    <p class="text">
      Back in the <span class="snippet">Person</span> component we need to use
      the <span class="snippet">props</span> that we passed in the
      <span class="snippet">App</span> component. The
      <span class="snippet">props</span>
      object is what we receive as argument in the component function and it
      holds all the properties of the object (including the attributes we
      defined).
    </p>
    <pre class="code">
import React from "react";

const person = (props) => {
  return (
    &lt;p&gt;
      I am {props.name} 
      and I am {props.age} years old.
    &lt;/p&gt;);
};

export default person;

    </pre>
    <p class="text center bold">props.children</p>
    <p class="text">
      If we run the code above, we get the following output:
    </p>
    <div class="devPic">
      <img src="./img/props.png" alt="" />
    </div>
    <p class="text">
      Note that in the code above, the hobbies element was defined in the
      <span class="snippet">App</span> component for Rosy but it is not
      rendered.
    </p>
    <p class="text">
      The hobbies element (the element or elements) between the opening and
      closing tags of a component are refered too as
      <span class="snippet">props.children</span>. We can also nest complex html
      elements here. We can output the
      <span class="snippet">props.children</span> as below:
    </p>
    <pre class="code">
      import React from "react";

const person = (props) => {
  return (
    &lt;div&gt;
      &lt;p&gt;
        I am {props.name} and I am 
        {props.age} years old.
      &lt;/p&gt;
      &lt;p&gt;
        {props.children}
      &lt;/p&gt;
    &lt;/div&gt;
  );
};

export default person;

    </pre>
    <p class="text">
      So we can also pass information to the component via the children prop and
      not only through regular props. If we save the
      <span class="snippet">Person</span>
      component now we can see the hobbies of Rosy too:
    </p>
    <div class="devPic">
      <img src="./img/props_children.png" alt="" />
    </div>
    <p class="text">
      The <span class="snippet">props.children</span> argument can also be used
      to create a higher oder component in which to nest adjacent elements in
      the same component.
    </p>
    <p class="text center">
      State
    </p>
    <p class="text">
      State is data inside a component. In order to explore it, we will convert
      the <span class="snippet">App.js</span> component from a functional to a
      class-based one. The state is an object inside the class (it works
      similarly for functional components):
    </p>
    <pre class="code">
import React, { Component } from "react";
import logo from "./logo.svg";
import "./App.css";
import Person from "./Person/Person";

class App extends Component {
  state = {
    persons: [
      {
        name: "Ted",
        age: 28,
      },

      {
        name: "Rosy",
        age: 27,
      },

      {
        name: "Kathy",
        age: 25,
      },
    ],
  };

  render() {
    return (
      &lt;div className="App"&gt;
        &lt;h1&gt;Hi, I am a react app&lt;/h1&gt;
        &lt;button&gt;Switch Names&lt;/button&gt;
        &lt;Person name="Ted" age="28" /&gt;
        &lt;Person name="Rosy" age="27"&gt;
          My hobbies: Racing
        &lt;/Person&gt;
        &lt;Person name="Kathy" age="25" /&gt;
      &lt;/div&gt;
    );
  }
}

export default App;

    </pre>
    <p class="text">
      In order to use the <span class="snippet">state</span> inside a class
      based component we use <span class="snippet">this.state.property</span>:
    </p>
    <pre class="code">
      import React, { Component } from "react";
      import logo from "./logo.svg";
      import "./App.css";
      import Person from "./Person/Person";
      
      class App extends Component {
        state = {
          persons: [
            {
              name: "Ted",
              age: 28,
            },
      
            {
              name: "Rosy",
              age: 27,
            },
      
            {
              name: "Kathy",
              age: 25,
            },
          ],
        };
      
        render() {
          return (
            &lt;div className="App"&gt;
              &lt;h1&gt;Hi, I am a react app&lt;/h1&gt;
              &lt;button&gt;Switch Names&lt;/button&gt;
             &lt;Person
          name={this.state.persons[0].name}
          age={this.state.persons[0].age}
        /&gt;
       &lt;Person
          name={this.state.persons[1].name}
          age={this.state.persons[1].age}
        &gt;
          My hobbies: Racing
       &lt;/Person&gt;
       &lt;Person
          name={this.state.persons[2].name}
          age={this.state.persons[2].age}
        /&gt;
            &lt;/div&gt;
          );
        }
      }
      
      export default App;
      
          </pre
    >
  </body>
</html>
